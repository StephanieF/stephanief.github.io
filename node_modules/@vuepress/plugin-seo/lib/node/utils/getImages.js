import { isLinkAbsolute, isLinkWithProtocol } from '@vuepress/helper';
import { getUrl } from './getUrl.js';
const IMAGE_REG_EXP = /!\[.*?\]\((.*?)\)/gu;
export const getImages = ({ content }, { options: { base } }, hostname) => Array.from(content.matchAll(IMAGE_REG_EXP), ([, src]) => {
    if (isLinkAbsolute(src))
        return getUrl(hostname, base, src);
    if (isLinkWithProtocol(src))
        return src;
    return null;
}).filter((item) => item != null);
