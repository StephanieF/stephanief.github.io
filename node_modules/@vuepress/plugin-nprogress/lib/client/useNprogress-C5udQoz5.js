import{onMounted as S}from"vue";import{useRouter as b}from"vuepress/client";import{entries as h,isDef as v}from"@vuepress/helper/client";import"./styles/vars.css";import"./styles/nprogress.css";const y=(e,r)=>{e.classList.add(r)},f=(e,r)=>{e.classList.remove(r)},k=e=>{e?.remove()},p=(e,r,n)=>e<r?r:e>n?n:e,g=e=>(-1+e)*100,q=(()=>{const e=[],r=()=>{const n=e.shift();n&&n(r)};return n=>{e.push(n),e.length===1&&r()}})(),$=e=>e.replace(/^-ms-/,"ms-").replaceAll(/-([\da-z])/gi,(r,n)=>n.toUpperCase()),l=(()=>{const e=["Webkit","O","Moz","ms"],r={},n=o=>{const{style:s}=document.body;if(o in s)return o;const m=o.charAt(0).toUpperCase()+o.slice(1);let u=e.length;for(;u--;){const d=`${e[u]}${m}`;if(d in s)return d}return o},c=o=>{const s=$(o);return r[s]??=n(s)},i=(o,s,m)=>{o.style[c(s)]=m};return(o,s)=>{for(const[m,u]of h(s))v(u)&&i(o,m,u)}})(),a={minimum:.08,easing:"ease",speed:200,trickleRate:.02,trickleSpeed:800,barSelector:'[role="bar"]',parent:"body",template:'<div class="bar" role="bar"></div>'},t={percent:null,isRendered:()=>!!document.querySelector("#nprogress"),set:e=>{const{speed:r,easing:n}=a,c=t.isStarted(),i=p(e,a.minimum,1);t.percent=i===1?null:i;const o=t.render(!c),s=o.querySelector(a.barSelector);return q(m=>{l(s,{transform:`translate3d(${g(i)}%,0,0)`,transition:`all ${r}ms ${n}`}),i===1?(l(o,{transition:"none",opacity:"1"}),setTimeout(()=>{l(o,{transition:`all ${r}ms linear`,opacity:"0"}),setTimeout(()=>{t.remove(),m()},r)},r)):setTimeout(()=>{m()},r)}),t},isStarted:()=>typeof t.percent=="number",start:()=>{t.percent||t.set(0);const e=()=>{setTimeout(()=>{t.percent&&(t.trickle(),e())},a.trickleSpeed)};return e(),t},done:e=>!e&&!t.percent?t:t.increase(.3+.5*Math.random()).set(1),increase:e=>{let{percent:r}=t;return r?(r=p(r+(typeof e=="number"?e:(1-r)*p(Math.random()*r,.1,.95)),0,.994),t.set(r)):t.start()},trickle:()=>t.increase(Math.random()*a.trickleRate),render:e=>{if(t.isRendered())return document.querySelector("#nprogress");y(document.documentElement,"nprogress-busy");const r=document.createElement("div");r.id="nprogress",r.innerHTML=a.template;const n=r.querySelector(a.barSelector),c=document.querySelector(a.parent),i=e?"-100":g(t.percent??0);return l(n,{transition:"all 0 linear",transform:`translate3d(${i}%,0,0)`}),c&&(c!==document.body&&y(c,"nprogress-custom-parent"),c.append(r)),r},remove:()=>{f(document.documentElement,"nprogress-busy"),f(document.querySelector(a.parent),"nprogress-custom-parent"),k(document.querySelector("#nprogress"))}},E=()=>{S(()=>{const e=b(),r=new Set;r.add(e.currentRoute.value.path),e.beforeEach(n=>{r.has(n.path)||t.start()}),e.afterEach(n=>{r.add(n.path),t.done()})})};export{E as u};
//# sourceMappingURL=useNprogress-C5udQoz5.js.map
