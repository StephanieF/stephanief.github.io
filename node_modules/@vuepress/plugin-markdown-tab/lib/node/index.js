import{tab as l}from"@mdit/plugin-tab";import{deepAssign as T}from"@vuepress/helper";import{ensureEndingSlash as v}from"vuepress/shared";import{path as g,getDirname as C}from"vuepress/utils";const b=o=>JSON.stringify(o).replaceAll("'","&#39;"),u=o=>{l(o,{name:"code-tabs",openRender:({active:t,data:e},n,s)=>{const{meta:a}=n[s],i=e.map(({title:r})=>o.renderInline(r)),d=e.map((r,p)=>{const{id:m=i[p]}=r;return{id:m}});return`<CodeTabs :data='${b(d)}'${t===-1?"":` :active="${t}"`}${a.id?` tab-id="${a.id}"`:""}>
${i.map((r,p)=>`<template #title${p}="{ value, isActive }">${r}</template>
`).join("")}`},closeRender:()=>`</CodeTabs>
`,tabOpenRender:({index:t},e,n)=>{let s=!1;for(let a=n;a<e.length;a++){const{block:i,type:d}=e[a];if(i){if(d==="code-tabs_tab_close")break;if((d==="fence"||d==="import_code")&&!s){s=!0;continue}e[a].type="code_tab_empty",e[a].hidden=!0}}return`<template #tab${t}="{ value, isActive }">
`},tabCloseRender:()=>`</template>
`})},{url:w}=import.meta,k=C(w),c=v(g.resolve(k,"../client")),R=(o,{codeTabs:t,tabs:e})=>{const n=new Set,s=new Set;return t&&(n.add(`import { CodeTabs } from "${c}components/CodeTabs.js";`),s.add('app.component("CodeTabs", CodeTabs);')),e&&(n.add(`import { Tabs } from "${c}components/Tabs.js";`),s.add('app.component("Tabs", Tabs);')),o.writeTemp("markdown-tab/config.js",`${[...n.values()].join(`
`)}
import "${c}styles/vars.css";

export default {
  enhance: ({ app }) => {
${Array.from(s.values(),a=>`    ${a}`).join(`
`)}
  },
};
`)},$=o=>{l(o,{name:"tabs",openRender:({active:t,data:e},n,s)=>{const{meta:a}=n[s],i=e.map(({title:r})=>o.renderInline(r)),d=e.map((r,p)=>{const{id:m=i[p]}=r;return{id:m}});return`<Tabs :data='${b(d)}'${t===-1?"":` :active="${t}"`}${a.id?` tab-id="${a.id}"`:""}>
${i.map((r,p)=>`<template #title${p}="{ value, isActive }">${r}</template>
`).join("")}`},closeRender:()=>`</Tabs>
`,tabOpenRender:({index:t})=>`<template #tab${t}="{ value, isActive }">
`,tabCloseRender:()=>`</template>
`})},f="@vuepress/plugin-markdown-tab",j=o=>t=>{const e=T({},t.options.markdown.tab,o);return t.options.markdown.tab=e,!e.codeTabs&&!e.tabs?{name:f}:{name:f,extendsMarkdown:n=>{e.codeTabs&&n.use(u),e.tabs&&n.use($)},clientConfigFile:()=>R(t,e)}};export{u as codeTabs,j as markdownTabPlugin,$ as tabs};
//# sourceMappingURL=index.js.map
