import{createRequire as e}from"node:module";import{tex as t}from"@mdit/plugin-tex";const n=`action.ams.amscd.bbm.bboldx.bbox.begingroup.boldsymbol.braket.bussproofs.cancel.cases.centernot.color.colortbl.colorv2.configmacros.dsfont.empheq.enclose.extpfeil.gensymb.html.mathtools.mhchem.newcommand.noerrors.noundefined.physics.setoptions.tagformat.texhtml.textcomp.textmacros.unicode.units.upgreek.verb`.split(`.`);let r=!0,i,a,o,s,c,l,u,d=!0,f,p;try{({mathjax:i}=await import(`@mathjax/src/cjs/mathjax.js`)),{TeX:a}=await import(`@mathjax/src/cjs/input/tex.js`),{CHTML:o}=await import(`@mathjax/src/cjs/output/chtml.js`),{SVG:s}=await import(`@mathjax/src/cjs/output/svg.js`),{liteAdaptor:c}=await import(`@mathjax/src/cjs/adaptors/liteAdaptor.js`),{RegisterHTMLHandler:l}=await import(`@mathjax/src/cjs/handlers/html.js`),{AssistiveMmlHandler:u}=await import(`@mathjax/src/cjs/a11y/assistive-mml.js`),await import(`./importer-N3BdKsx_.js`);let t=e(import.meta.url);i.asyncLoad=e=>{t(e)},i.asyncIsSynchronous=!0}catch{r=!1}try{f=(await import(`@mathjax/mathjax-newcm-font/cjs/chtml.js`)).MathJaxNewcmFont,p=(await import(`@mathjax/mathjax-newcm-font/cjs/svg.js`)).MathJaxNewcmFont}catch{d=!1}const m=e=>{if(!r)throw Error(`[@mdit/plugin-mathjax-slim] "@mathjax/src" is not installed!`);let t=e.output===`chtml`,i=(t?e.chtml:e.svg)??{};if(!i.fontData&&!d)throw Error(`[@mdit/plugin-mathjax-slim] "@mathjax/mathjax-newcm-font" is not installed!`);let c=Object.assign({fontData:t?f:p},i?.fontData?{}:{dynamicPrefix:`@mathjax/mathjax-newcm-font/cjs/${t?`chtml`:`svg`}/dynamic`},t&&!i.fontData?{fontURL:`https://cdn.jsdelivr.net/npm/@mathjax/mathjax-newcm-font/chtml/woff2`}:{},i);return{InputJax:new a({packages:[`base`,...n],...e.tex}),OutputJax:new(t?o:s)(c),enableAssistiveMml:e.a11y!==!1}},h=(e={})=>{let t=m(e),{OutputJax:n,InputJax:r}=t,a=c(),o=l(a);e.a11y!==!1&&u(o);let s=()=>{n.adaptor&&n.reset()};return{adaptor:a,documentOptions:t,allowInlineWithSpace:e.allowInlineWithSpace??!1,delimiters:e.delimiters??`dollars`,mathFence:e.mathFence??!1,clearStyle:s,reset:()=>{r.reset()},outputStyle:()=>{n.font.loadDynamicFilesSync();let e=a.cssText(n.styleSheet(i.document(``,t)));return s(),e},transformer:e.transformer??null}},g=(e,{allowInlineWithSpace:n,adaptor:r,delimiters:a,documentOptions:o,mathFence:s,transformer:c})=>{e.use(t,{allowInlineWithSpace:n,delimiters:a,mathFence:s,render:(e,t)=>{let n=i.document(e,o).convert(e,{display:t}),a=r.outerHTML(n);return c?.(a,t)??a}})};export{h as createMathjaxInstance,m as getDocumentOptions,g as mathjax};
//# sourceMappingURL=sync.js.map