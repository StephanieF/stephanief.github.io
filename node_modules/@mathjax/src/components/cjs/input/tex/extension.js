"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.fontExtension = fontExtension;
var global_js_1 = require("#js/components/global.js");
function fontExtension(id, name, pkg) {
    var _a, _b;
    var _c, _d, _e;
    if (pkg === void 0) { pkg = "[fonts]/".concat(name); }
    if (MathJax.loader) {
        var path = name.replace(/-font-extension$/, '-extension');
        var jax = (((_d = (_c = MathJax.config) === null || _c === void 0 ? void 0 : _c.startup) === null || _d === void 0 ? void 0 : _d.output) || 'chtml');
        (0, global_js_1.combineDefaults)(MathJax.config.loader, 'paths', (_a = {}, _a[path] = pkg, _a));
        if (!((_e = MathJax._.output) === null || _e === void 0 ? void 0 : _e[jax])) {
            (0, global_js_1.combineDefaults)(MathJax.config.loader, 'dependencies', (_b = {}, _b["[".concat(path, "]/").concat(jax)] = ["output/".concat(jax)], _b));
        }
        MathJax.loader.addPackageData(id, {
            extraLoads: ["[".concat(path, "]/").concat(jax)],
            rendererExtensions: [path]
        });
    }
}
